# Постановка задачи

Разработать решение для анализа и расчета результатов тренировок пользователей из таблицы с данными и сохранения результатов в таблицу результатов на основе сelery-задачи.
* Решение должно быть масштабируемым, чтобы обрабатывать большие объемы данных при росте системы без снижения времени обработки
* Решение должно быть устойчивым к сбоям и плавно деградировать при увеличении нагрузки.

Для примера можно предположить, что у нас есть объект Workout с привязкой к дате и конкретному пользователю, 
и объекты Sample которые мы собрали за время тренировки, в каждом из которых хранится значение пульса в конкретный момент времени. 
В ходе рассчетов мы должны получить средний и максимальный пульс за всю тренировку


# Решение

Реактивность приложения не была задана(предположим что workout создается в базе независимо от расчета результатов, и наш сервис будет полагаться на наличие необработанных workout в базе данных).
Для обработки workouts мы будем использовать отдельную таблицу WorkoutResult, в которую будем сохранять результаты обработки.
Требования к масштабируемости будут соблюдаться за счет масштабирования celery-воркеров и базы данных (для базы данных можно использовать репликации).
Требования к устойчивости к сбоям будут соблюдаться за счет возможности повторного выполнения задачи в случае ошибки.


# TODO
1. Нужно заменить generic Exception на конкретные исключения (retriable exceptions)
2. Добавить типизацию
3. Мониторинг решения и логирование